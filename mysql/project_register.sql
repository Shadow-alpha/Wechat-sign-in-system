-- MySQL dump 10.13  Distrib 8.0.32, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: project
-- ------------------------------------------------------
-- Server version	8.0.32

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `register`
--

DROP TABLE IF EXISTS `register`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `register` (
  `code` int NOT NULL AUTO_INCREMENT COMMENT '签到编号',
  `stu_id` char(11) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '学生学号',
  `course_id` char(14) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '课程编号',
  `class_num` tinyint unsigned NOT NULL COMMENT '课次',
  `sign_time` datetime DEFAULT NULL COMMENT '签到时间',
  `sign_status` enum('缺勤','已签','请假') CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '缺勤',
  PRIMARY KEY (`code`),
  UNIQUE KEY `code_UNIQUE` (`code`),
  KEY `fk_stu_id_2_idx` (`stu_id`),
  KEY `fk_courseid_classnum_1_idx` (`course_id`,`class_num`),
  CONSTRAINT `fk_courseid_week_1` FOREIGN KEY (`course_id`, `class_num`) REFERENCES `class` (`course_id`, `class_num`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_stu_id_2` FOREIGN KEY (`stu_id`) REFERENCES `student_info` (`stu_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=184 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='签到关系表';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `register`
--

LOCK TABLES `register` WRITE;
/*!40000 ALTER TABLE `register` DISABLE KEYS */;
INSERT INTO `register` VALUES (87,'18307117654','DATA130023.01',1,NULL,'缺勤'),(88,'19309136452','DATA130023.01',1,'2023-02-19 13:43:25','已签'),(89,'20385769285','DATA130023.01',1,NULL,'请假'),(90,'21312345678','DATA130023.01',1,'2023-02-19 13:33:51','已签'),(91,'21374659987','DATA130023.01',1,NULL,'缺勤'),(94,'18307117654','DATA130023.01',2,NULL,'缺勤'),(95,'19309136452','DATA130023.01',2,'2023-02-26 13:41:22','已签'),(96,'20385769285','DATA130023.01',2,'2023-02-26 13:56:27','已签'),(97,'21312345678','DATA130023.01',2,NULL,'请假'),(98,'21374659987','DATA130023.01',2,NULL,'缺勤'),(101,'18307117654','DATA130023.01',3,'2023-03-05 14:21:36','已签'),(102,'19309136452','DATA130023.01',3,NULL,'缺勤'),(103,'20385769285','DATA130023.01',3,'2023-03-05 13:35:12','已签'),(104,'21312345678','DATA130023.01',3,NULL,'缺勤'),(105,'21374659987','DATA130023.01',3,'2023-03-05 15:21:33','已签'),(108,'21312345678','ENGL110035.03',1,'2023-02-22 09:57:12','已签'),(109,'21312345678','ENGL110035.03',2,'2023-03-01 10:21:33','已签'),(110,'21312345678','ENGL110035.03',3,'2023-03-08 10:12:21','已签'),(125,'18307117654','DATA130023.01',4,NULL,'缺勤'),(126,'19309136452','DATA130023.01',4,NULL,'缺勤'),(127,'20385769285','DATA130023.01',4,NULL,'缺勤'),(128,'21312345678','DATA130023.01',4,NULL,'请假'),(146,'21312345678','COMP115001.01',1,'2023-06-23 10:28:02','已签'),(161,'18307117654','DATA130023.01',5,NULL,'缺勤'),(162,'19309136452','DATA130023.01',5,NULL,'缺勤'),(163,'20385769285','DATA130023.01',5,NULL,'缺勤'),(164,'21312345678','DATA130023.01',5,NULL,'缺勤'),(168,'18307117654','DATA130023.01',6,NULL,'缺勤'),(169,'19309136452','DATA130023.01',6,NULL,'缺勤'),(170,'20385769285','DATA130023.01',6,NULL,'缺勤'),(171,'21312345678','DATA130023.01',6,'2023-06-23 10:25:51','已签');
/*!40000 ALTER TABLE `register` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-06-23 13:06:47
